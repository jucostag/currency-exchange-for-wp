!function(){"use strict";angular.module("currencyExchange",[])}(),function(){"use strict";angular.module("currencyExchange").provider("currenciesApi",function(){var e={};return e.$get=["$http","$q",function(e,r){var n={};return n.get=function(){var n="/wp-content/plugins/currency-exchange-for-wp/assets/scripts/json/currencies.json",t=e.get(n),c=c||r.defer();return t.then(function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise},n}],e})}(),function(){"use strict";angular.module("currencyExchange").provider("yahooFinanceApi",function(){var e={};return e.$get=["$http","$q",function(e,r){var n={};return n.getRate=function(n){var t="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%3D%22"+n+"%22&format=json&diagnostics=false&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",c=e.get(t),o=o||r.defer();return c.then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},n}],e})}(),function(){"use strict";angular.module("currencyExchange").directive("ceCalculator",["yahooFinanceApi","currenciesApi",function(e,r){var n={};return n.restrict="E",n.templateUrl="/wp-content/plugins/currency-exchange-for-wp/assets/scripts/directives/templates/ce-calculator.html",n.scope={},n.link=function(n,t,c){n.currencies=[];var o=r.get();o.then(function(e){n.currencies=e.data},function(e){console.log(e),n.currencies({data:[]})}),n.symbolOne="R$",n.symbolTwo="$",n.initialsOne="BRL",n.initialsTwo="USD",n.exchange=0,n.error="",n.setSymbolOne=function(e){n.symbolOne=n.currencies[e].symbol,n.initialsOne=e},n.setSymbolTwo=function(e){n.symbolTwo=n.currencies[e].symbol,n.initialsTwo=e},n.calculate=function(r,t,c){r=void 0===r?"BRL":r,t=void 0===t?"USD":t;var o=t+r,a=0;n.rate=[];var i=e.getRate(o);i.then(function(e){n.rate=e.data,null===n.rate?n.error="An unexpected error occurred while connecting to api. Try again later.":(n.error="",n.rate=n.rate.query.results.rate.Rate),""===c||null===c?(n.error="Please enter the amount you want to convert.",n.exchange=""):(n.error="",c=parseFloat(c.replace(",",".")),a=c*n.rate,n.exchange=String(a).replace(".",","))},function(e){console.log(e),n.rate({data:[]})})}},n}])}();